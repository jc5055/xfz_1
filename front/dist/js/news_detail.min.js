function NewsList(){this.submitBtn=$(".submit-btn"),this.commentText=$("#comment-textarea")}NewsList.prototype.listenSubmitEvent=function(){var s=this;s.submitBtn.click(function(){var t=s.commentText.val(),e=s.submitBtn.attr("data-news-id");console.log(t),console.log(e),xfzajax.post({url:"/news/add_comment/",data:{news_id:e,content:t},success:function(t){var e,n;200===t.code?(e=t.data,n=template("comment-item",{comment:e}),$(".comment-list").prepend(n),window.messageBox.showSuccess("评论发布成功"),s.commentText.val("")):window.messageBox.showError(t.message)}})})},NewsList.prototype.run=function(){this.listenSubmitEvent()},$(function(){(new NewsList).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmV3c19kZXRhaWwubWluLmpzIiwic291cmNlcyI6WyJuZXdzX2RldGFpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBOZXdzTGlzdCgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICBzZWxmLnN1Ym1pdEJ0biA9ICQoJy5zdWJtaXQtYnRuJylcbiAgICBzZWxmLmNvbW1lbnRUZXh0ID0gJCgnI2NvbW1lbnQtdGV4dGFyZWEnKVxufVxuXG5OZXdzTGlzdC5wcm90b3R5cGUubGlzdGVuU3VibWl0RXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzXG4gICAgc2VsZi5zdWJtaXRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGVudCA9IHNlbGYuY29tbWVudFRleHQudmFsKClcbiAgICAgICAgdmFyIG5ld3NfaWQgPSBzZWxmLnN1Ym1pdEJ0bi5hdHRyKCdkYXRhLW5ld3MtaWQnKVxuICAgICAgICBjb25zb2xlLmxvZyhjb250ZW50KVxuICAgICAgICBjb25zb2xlLmxvZyhuZXdzX2lkKVxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xuICAgICAgICAgICAgJ3VybCc6ICcvbmV3cy9hZGRfY29tbWVudC8nLFxuICAgICAgICAgICAgJ2RhdGEnOiB7XG4gICAgICAgICAgICAgICAgJ25ld3NfaWQnOiBuZXdzX2lkLFxuICAgICAgICAgICAgICAgICdjb250ZW50JzogY29udGVudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudCA9IHJlc3VsdFsnZGF0YSddXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cGwgPSB0ZW1wbGF0ZSgnY29tbWVudC1pdGVtJywgeydjb21tZW50JzogY29tbWVudH0pXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50TGlzdEdyb3VwID0gJCgnLmNvbW1lbnQtbGlzdCcpXG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRMaXN0R3JvdXAucHJlcGVuZCh0cGwpXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dTdWNjZXNzKCfor4Torrrlj5HluIPmiJDlip8nKVxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbW1lbnRUZXh0LnZhbChcIlwiKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dFcnJvcihyZXN1bHRbJ21lc3NhZ2UnXSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSlcbn1cblxuTmV3c0xpc3QucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICBzZWxmLmxpc3RlblN1Ym1pdEV2ZW50KClcbn1cblxuJChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5ld3NMaXN0ID0gbmV3IE5ld3NMaXN0KClcbiAgICBuZXdzTGlzdC5ydW4oKVxufSkiXSwibmFtZXMiOlsiTmV3c0xpc3QiLCJ0aGlzIiwic3VibWl0QnRuIiwiJCIsImNvbW1lbnRUZXh0IiwicHJvdG90eXBlIiwibGlzdGVuU3VibWl0RXZlbnQiLCJzZWxmIiwiY2xpY2siLCJjb250ZW50IiwidmFsIiwibmV3c19pZCIsImF0dHIiLCJjb25zb2xlIiwibG9nIiwieGZ6YWpheCIsInBvc3QiLCJ1cmwiLCJkYXRhIiwic3VjY2VzcyIsInJlc3VsdCIsImNvbW1lbnQiLCJ0cGwiLCJ0ZW1wbGF0ZSIsInByZXBlbmQiLCJ3aW5kb3ciLCJtZXNzYWdlQm94Iiwic2hvd1N1Y2Nlc3MiLCJzaG93RXJyb3IiLCJydW4iXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFdBQ01DLEtBQ05DLFVBQVlDLEVBQUUsZUFEUkYsS0FFTkcsWUFBY0QsRUFBRSxxQkFHekJILFNBQVNLLFVBQVVDLGtCQUFvQixXQUNuQyxJQUFJQyxFQUFPTixLQUNYTSxFQUFLTCxVQUFVTSxNQUFNLFdBQ2pCLElBQUlDLEVBQVVGLEVBQUtILFlBQVlNLE1BQzNCQyxFQUFVSixFQUFLTCxVQUFVVSxLQUFLLGdCQUNsQ0MsUUFBUUMsSUFBSUwsR0FDWkksUUFBUUMsSUFBSUgsR0FDWkksUUFBUUMsS0FBSyxDQUNUQyxJQUFPLHFCQUNQQyxLQUFRLENBQ0pQLFFBQVdBLEVBQ1hGLFFBQVdBLEdBRWZVLFFBQVcsU0FBVUMsR0FDakIsSUFDUUMsRUFDQUMsRUFGZSxNQUFuQkYsRUFBYSxNQUNUQyxFQUFVRCxFQUFhLEtBQ3ZCRSxFQUFNQyxTQUFTLGVBQWdCLENBQUNGLFFBQVdBLElBQ3hCbEIsRUFBRSxpQkFDUnFCLFFBQVFGLEdBQ3pCRyxPQUFPQyxXQUFXQyxZQUFZLFVBQzlCcEIsRUFBS0gsWUFBWU0sSUFBSSxLQUVyQmUsT0FBT0MsV0FBV0UsVUFBVVIsRUFBZ0IsZUFPaEVwQixTQUFTSyxVQUFVd0IsSUFBTSxXQUNWNUIsS0FDTksscUJBR1RILEVBQUUsWUFDaUIsSUFBSUgsVUFDVjZCIn0=
