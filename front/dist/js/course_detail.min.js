function CourseDetail(){}CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),o=e.attr("data-video-url"),t=e.attr("data-cover-url"),a=e.attr("data-course-id"),n=cyberplayer("playercontainer").setup({width:"100%",height:"100%",file:o,image:t,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,tokenEncrypt:!0,ak:"159b1940c0b94064a4d54e174fe02998"});n.on("beforePlay",function(t){/m3u8/.test(t.file)&&xfzajax.get({url:"/course/course_token/",data:{video:o,course_id:a},success:function(e){var o;console.log("video"),200===e.code?(o=e.data.token,n.setToken(t.file,o)):(window.messageBox.showInfo(e.message),n.stop())},fail:function(e){console.log(e)}})})},CourseDetail.prototype.run=function(){this.initPlayer()},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY291cnNlX2RldGFpbC5taW4uanMiLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gQ291cnNlRGV0YWlsKCkge1xuXG59XG5cbkNvdXJzZURldGFpbC5wcm90b3R5cGUuaW5pdFBsYXllciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdmlkZW9JbmZvU2FwbiA9ICQoJyN2aWRlby1pbmZvJylcbiAgICB2YXIgdmlkZW9fdXJsID0gdmlkZW9JbmZvU2Fwbi5hdHRyKCdkYXRhLXZpZGVvLXVybCcpXG4gICAgdmFyIGNvdmVyX3VybCA9IHZpZGVvSW5mb1NhcG4uYXR0cignZGF0YS1jb3Zlci11cmwnKVxuICAgIHZhciBjb3Vyc2VfaWQgPSB2aWRlb0luZm9TYXBuLmF0dHIoJ2RhdGEtY291cnNlLWlkJylcblxuXG4gICAgdmFyIHBsYXllciA9IGN5YmVycGxheWVyKFwicGxheWVyY29udGFpbmVyXCIpLnNldHVwKHtcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgIGZpbGU6IHZpZGVvX3VybCxcbiAgICAgICAgaW1hZ2U6IGNvdmVyX3VybCxcbiAgICAgICAgYXV0b3N0YXJ0OiBmYWxzZSxcbiAgICAgICAgc3RyZXRjaGluZzogXCJ1bmlmb3JtXCIsXG4gICAgICAgIHJlcGVhdDogZmFsc2UsXG4gICAgICAgIHZvbHVtZTogMTAwLFxuICAgICAgICBjb250cm9sczogdHJ1ZSxcbiAgICAgICAgdG9rZW5FbmNyeXB0OiB0cnVlLFxuICAgICAgICAvLyBBY2Nlc3NLZXlcbiAgICAgICAgYWs6ICcxNTliMTk0MGMwYjk0MDY0YTRkNTRlMTc0ZmUwMjk5OCdcbiAgICB9KTtcblxuICAgIHBsYXllci5vbignYmVmb3JlUGxheScsZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmKCEvbTN1OC8udGVzdChlLmZpbGUpKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4ZnphamF4LmdldCh7XG4gICAgICAgICAgICAgICAgJ3VybCc6ICcvY291cnNlL2NvdXJzZV90b2tlbi8nLFxuICAgICAgICAgICAgICAgICdkYXRhJzoge1xuICAgICAgICAgICAgICAgICAgICAndmlkZW8nOiB2aWRlb191cmwsXG4gICAgICAgICAgICAgICAgICAgICdjb3Vyc2VfaWQnOiBjb3Vyc2VfaWRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndmlkZW8nKVxuICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3VsdFsnZGF0YSddWyd0b2tlbiddO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNldFRva2VuKGUuZmlsZSx0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd0luZm8ocmVzdWx0WydtZXNzYWdlJ10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ2ZhaWwnOiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbn1cblxuQ291cnNlRGV0YWlsLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5pbml0UGxheWVyKClcbn1cblxuJChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvdXJzZVBsYXllciA9IG5ldyBDb3Vyc2VEZXRhaWwoKVxuICAgIGNvdXJzZVBsYXllci5ydW4oKVxufSkiXSwibmFtZXMiOlsiQ291cnNlRGV0YWlsIiwicHJvdG90eXBlIiwiaW5pdFBsYXllciIsInZpZGVvSW5mb1NhcG4iLCIkIiwidmlkZW9fdXJsIiwiYXR0ciIsImNvdmVyX3VybCIsImNvdXJzZV9pZCIsInBsYXllciIsImN5YmVycGxheWVyIiwic2V0dXAiLCJ3aWR0aCIsImhlaWdodCIsImZpbGUiLCJpbWFnZSIsImF1dG9zdGFydCIsInN0cmV0Y2hpbmciLCJyZXBlYXQiLCJ2b2x1bWUiLCJjb250cm9scyIsInRva2VuRW5jcnlwdCIsImFrIiwib24iLCJlIiwidGVzdCIsInhmemFqYXgiLCJnZXQiLCJ1cmwiLCJkYXRhIiwidmlkZW8iLCJzdWNjZXNzIiwicmVzdWx0IiwidG9rZW4iLCJjb25zb2xlIiwibG9nIiwic2V0VG9rZW4iLCJ3aW5kb3ciLCJtZXNzYWdlQm94Iiwic2hvd0luZm8iLCJzdG9wIiwiZmFpbCIsImVycm9yIiwicnVuIiwidGhpcyJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsZ0JBSVRBLGFBQWFDLFVBQVVDLFdBQWEsV0FDaEMsSUFBSUMsRUFBZ0JDLEVBQUUsZUFDbEJDLEVBQVlGLEVBQWNHLEtBQUssa0JBQy9CQyxFQUFZSixFQUFjRyxLQUFLLGtCQUMvQkUsRUFBWUwsRUFBY0csS0FBSyxrQkFHL0JHLEVBQVNDLFlBQVksbUJBQW1CQyxNQUFNLENBQzlDQyxNQUFPLE9BQ1BDLE9BQVEsT0FDUkMsS0FBTVQsRUFDTlUsTUFBT1IsRUFDUFMsV0FBVyxFQUNYQyxXQUFZLFVBQ1pDLFFBQVEsRUFDUkMsT0FBUSxJQUNSQyxVQUFVLEVBQ1ZDLGNBQWMsRUFFZEMsR0FBSSxxQ0FHUmIsRUFBT2MsR0FBRyxhQUFhLFNBQVVDLEdBQ3JCLE9BQU9DLEtBQUtELEVBQUVWLE9BR2xCWSxRQUFRQyxJQUFJLENBQ1JDLElBQU8sd0JBQ1BDLEtBQVEsQ0FDSkMsTUFBU3pCLEVBQ1RHLFVBQWFBLEdBRWpCdUIsUUFBVyxTQUFVQyxHQUVqQixJQUNRQyxFQUZSQyxRQUFRQyxJQUFJLFNBQ1UsTUFBbkJILEVBQWEsTUFDUkMsRUFBUUQsRUFBYSxLQUFTLE1BQ2xDdkIsRUFBTzJCLFNBQVNaLEVBQUVWLEtBQUttQixLQUV2QkksT0FBT0MsV0FBV0MsU0FBU1AsRUFBZ0IsU0FDM0N2QixFQUFPK0IsU0FHZkMsS0FBUSxTQUFVQyxHQUNkUixRQUFRQyxJQUFJTyxTQU1oQzFDLGFBQWFDLFVBQVUwQyxJQUFNLFdBQ3pCQyxLQUFLMUMsY0FHVEUsRUFBRSxZQUNxQixJQUFJSixjQUNWMkMifQ==
